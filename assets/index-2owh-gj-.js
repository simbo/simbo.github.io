(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();var E=(e=>(e.Light="light",e.Dark="dark",e))(E||{});const L="light",D="color-theme";function v(e){return window.matchMedia(`(prefers-color-scheme: ${e})`).matches}function p(e){Object.values(E).includes(e)&&(document.documentElement.dataset.colorTheme=e,window.localStorage.setItem(D,e))}const P={initialize(){const e=window.localStorage.getItem(D);let t;e?t=e:v("dark")?t="dark":v("light")?t="light":t=L,p(t),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:s})=>p(s?"dark":"light"))},toggle(){p(document.documentElement.dataset.colorTheme==="dark"?"light":"dark")},get theme(){return document.documentElement.dataset.colorTheme||L},set theme(e){p(e)}},S="modulepreload",N=function(e){return"/"+e},A={},c=function(t,s,o){if(!s||s.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(s.map(n=>{if(n=N(n),n in A)return;A[n]=!0;const r=n.endsWith(".css"),h=r?'[rel="stylesheet"]':"";if(!!o)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===n&&(!r||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${h}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":S,r||(l.as="script",l.crossOrigin=""),l.href=n,document.head.appendChild(l),r)return new Promise((d,m)=>{l.addEventListener("load",d),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t()).catch(n=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=n,window.dispatchEvent(r),!r.defaultPrevented)throw n})},R=(e,t)=>{const s=e[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((o,i)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(i.bind(null,new Error("Unknown variable dynamic import: "+t)))})},f=new Map,g="icon-name";class x extends HTMLElement{static observedAttributes=[g];constructor(){super()}attributeChangedCallback(t,s,o){t===g&&this.setIcon(o)}setIcon(t){typeof t!="string"||t.length===0||this.getIcon(t).then(s=>{this.innerHTML=s})}async getIcon(t){if(!f.has(t)){const{default:o}=await R(Object.assign({"./svg-icons/github.ts":()=>c(()=>import("./github-2IFn9t5S.js"),__vite__mapDeps([])),"./svg-icons/moon.ts":()=>c(()=>import("./moon-2H6ZF6GE.js"),__vite__mapDeps([])),"./svg-icons/sun.ts":()=>c(()=>import("./sun-W9U8S791.js"),__vite__mapDeps([]))}),`./svg-icons/${t}.ts`);f.set(t,o)}return f.get(t)}}class M extends HTMLElement{svgIcon;connectedCallback(){const t=document.createElement("button");t.setAttribute("title","Toggle Color Theme"),t.addEventListener("click",o=>{o.preventDefault(),P.toggle()}),this.svgIcon=document.createElement("svg-icon"),this.svgIcon.classList.add("as-block"),this.setIconNameByColorTheme(),new MutationObserver(()=>this.setIconNameByColorTheme()).observe(document.documentElement,{attributeFilter:["data-color-theme"]}),this.append(t),t.append(this.svgIcon)}setIconNameByColorTheme(){const t=document.documentElement.dataset.colorTheme,s={[E.Light]:"moon",[E.Dark]:"sun"}[t];s&&s.length>0&&this.svgIcon.setAttribute(g,s)}}const w=['"',"'"];function _(e){for(let t=0;t<w.length;t++){const s=w[t];if(e.at(0)===s&&e.at(-1)===s)return e.slice(1,-1).replaceAll(new RegExp(`\\\\${s}`,"g"),s)}return e}const k=/^(--?[^\s"']+=)?("(\\"|[^"])*"|'(\\'|[^'])*'|\S+)/,H=/^--?\S/,V=/^-[a-z]=/i,$=/^-[a-z]+$/i,z=/^--[a-z][\da-z]*([_-][a-z][\da-z]*)*/i;function U(e){e=e.trim();const t={inputs:[],options:{}},s=[];let o=null;for(;e.length>0;){const i=(o=e.match(k))===null?e:o[0];s.push(i),e=e.slice(i.length).trim()}for(let i=0;i<s.length;i++){const n=s[i].trim();if(H.test(n)){if(o=n.match(V))t.options[n.charAt(1).toLowerCase()]=_(n.slice(3));else if(o=n.match($)){const r=[...o[0].slice(1).toLowerCase()];for(let h=0;h<r.length;h++)t.options[r[h]]=!0}else if(o=n.match(z)){const r=n.slice(2,o[0].length).toLowerCase(),h=n.charAt(o[0].length)==="="?_(n.slice(o[0].length+1)):!0;t.options[r]=h}}else t.inputs.push(_(n))}return t}const y=new Map,B={cls:"clear",hey:"hello",hi:"hello",max:"maximize",min:"minimize",print:"echo",theme:"color-theme"},O={foo:"bar",version:"v3.1.5",test:"test passed.",help:'need help?<br/>run <span class="yellow">commands</span> for a list of commands.'},X=/^[a-z][\da-z]*(-[a-z][\da-z]*)*$/i;async function q(e){if(!X.test(e))throw new Error(`invalid command: ${e}`);if(e=e.toLowerCase(),e=B[e]||e,O[e])return O[e];if(!y.has(e)){let t;try{t=(await R(Object.assign({"./command-handlers/clear.ts":()=>c(()=>import("./clear-d6SmKxAD.js"),__vite__mapDeps([])),"./command-handlers/color-theme.ts":()=>c(()=>import("./color-theme-hp_y-3Aa.js"),__vite__mapDeps([])),"./command-handlers/colors.ts":()=>c(()=>import("./colors-3PIXG5Af.js"),__vite__mapDeps([])),"./command-handlers/commands.ts":()=>c(()=>import("./commands-9yCVpZ29.js"),__vite__mapDeps([])),"./command-handlers/echo.ts":()=>c(()=>import("./echo-thbbqyKb.js"),__vite__mapDeps([])),"./command-handlers/hello.ts":()=>c(()=>import("./hello-m61RTd3R.js"),__vite__mapDeps([])),"./command-handlers/maximize.ts":()=>c(()=>import("./maximize-86t-AHaw.js"),__vite__mapDeps([])),"./command-handlers/minimize.ts":()=>c(()=>import("./minimize-73dqLokl.js"),__vite__mapDeps([])),"./command-handlers/reload.ts":()=>c(()=>import("./reload-VNu50TN1.js"),__vite__mapDeps([])),"./command-handlers/type.ts":()=>c(()=>import("./type-tXMf7pN0.js"),__vite__mapDeps([]))}),`./command-handlers/${e}.ts`)).default}catch{throw new Error(`unknown command: ${e}`)}y.set(e,t)}return y.get(e)}const I="command-history";class K{history;index=-1;constructor(){let t;try{t=JSON.parse(window.localStorage.getItem(I)||"[]")}catch{t=[]}this.history=Array.isArray(t)?t:[]}add(t){this.index=-1,t=t.trim(),this.history[0]!==t&&(this.history.unshift(t),window.localStorage.setItem(I,JSON.stringify(this.history)))}backward(){if(this.index+1<this.history.length)return this.index++,this.history[this.index]}forward(){if(this.index-1>=-1)return this.index--,this.index===-1?"":this.history[this.index]}}let G=0;class Y extends HTMLElement{promptElement=document.createElement("div");labelElement=document.createElement("label");inputElement=document.createElement("input");outputsElement=document.createElement("div");history=new K;inputId=`prompt-input${++G}`;constructor(){super()}connectedCallback(){this.promptElement.classList.add("prompt"),this.labelElement.classList.add("prompt-label"),this.labelElement.setAttribute("for",this.inputId),this.inputElement.classList.add("prompt-input"),this.inputElement.id=this.inputId,this.inputElement.type="text",this.inputElement.addEventListener("keypress",t=>this.onPromptKeyPress(t)),this.inputElement.addEventListener("keydown",t=>this.onPromptKeyDown(t)),this.append(this.outputsElement),this.promptElement.append(this.labelElement),this.promptElement.append(this.inputElement),this.append(this.promptElement)}outputText(t){this.addOutput({type:"text",content:t})}addOutput({type:t,content:s}){const o=document.createElement("div");o.classList.add("output",`is-${t}`),t==="text"?o.innerHTML=s:o.textContent=s,this.outputsElement.append(o),this.inputElement.scrollIntoView()}onPromptKeyPress(t){if(t.key==="Enter"){t.preventDefault();const s=this.inputElement.value;this.inputElement.value="",this.parseInput(s)}}onPromptKeyDown(t){if(t.key==="ArrowUp"||t.key==="ArrowDown"){let s;t.key==="ArrowUp"?s=this.history.backward():t.key==="ArrowDown"&&(s=this.history.forward()),typeof s=="string"&&(t.preventDefault(),this.inputElement.value=s)}}parseInput(t){t=t.trim();let s=t.search(/\s|$/);s=s>0?s:t.length;const o=t.slice(0,s);if(o.length===0)return;const i=t.slice(s).trim();this.runCommand(o,i).catch(n=>this.addOutput({type:"error",content:`${n.message||n}`}))}async runCommand(t,s){const o=U(s),i=`${t}${s.length>0?` ${s}`:""}`;this.addOutput({type:"command",content:i}),this.history.add(i);const n=await q(t);return typeof n=="string"?this.outputText(n):n(this,o)}}const b="stopped-typing",j="started-typing",F=23,C="has-cursor",J=/<span\s+code="(\d+|stop)"[^>]*><\/span>/gi,W=/^\^(\d+|stop)/i,Q=/^<br\s*\/?>/i;class Z extends HTMLElement{steps=[];nextStep=0;typeDelay;typeTimeout=0;constructor(){super()}connectedCallback(){this.typeDelay=Number.parseInt(this.getAttribute("type-delay")||"0",10)||F;const t=this.innerHTML;this.innerHTML="",this.queueContent(t),this.startTyping()}startTyping(){this.classList.add(C),this.dispatchEvent(new CustomEvent(j)),this.type()}stopTyping(){this.clearTimeout(),this.classList.remove(C),this.dispatchEvent(new CustomEvent(b))}restartTyping(){this.stopTyping(),this.nextStep=0,this.innerHTML="",this.startTyping()}get isTyping(){return this.typeTimeout!==0}get typingDone(){return this.steps.length===this.nextStep}queueContent(t){t=t.split(/[\n\r]+/g).map(a=>a.trim()).join("").replaceAll(J,(a,l)=>`^${l}`);let s=this.steps.at(-1)?.output||"",o=0,i=!1;const n=a=>{t=t.slice(a)},r=a=>{s+=t.slice(0,a),n(a)},h=()=>{const a={pauseDuration:o,output:s};i&&(a.stopAfterwards=i),this.steps.push(a),o=0,i=!1};for(;t.length>0;){const a=t.charAt(0);let l=null,d;if(a==="^"&&(l=t.match(W)))l[0].toLowerCase()==="^stop"?i=!0:o+=Number.parseInt(l[0].slice(1),10),n(l[0].length);else if(a==="<"){let m=null;(m=t.match(Q))?(r(m[0].length),h()):(d=t.indexOf(">"))>=0&&r(d+1)}else a==="&"&&(d=t.indexOf(";"))>=0?r(d+1):(r(1),h())}}type(){const t=this.steps[this.nextStep];this.setTimeout(()=>{this.innerHTML=t.output,this.nextStep++,!t.stopAfterwards&&this.nextStep<this.steps.length?this.setTimeout(()=>this.type(),this.humanizedDelay):this.stopTyping()},t.pauseDuration)}get humanizedDelay(){return(Math.random()*this.typeDelay-Math.random()*this.typeDelay)/2+this.typeDelay}setTimeout(t,s=0){this.typeTimeout=window.setTimeout(t,s)}clearTimeout(){this.typeTimeout&&(window.clearTimeout(this.typeTimeout),this.typeTimeout=0)}}customElements.define("svg-icon",x);customElements.define("typed-text",Z);customElements.define("color-theme-toggle",M);customElements.define("command-prompt",Y);function tt(e,t,s){const o=i=>{e.removeEventListener(t,o),s(i)};e.addEventListener(t,o)}P.initialize();const T="has-initial-content",et="has-additional-content",u=document.querySelector("typed-text");tt(u,b,()=>u.classList.add(T));u.addEventListener("click",e=>{e.target.tagName==="BUTTON"&&(e.preventDefault(),u.classList.contains(T)&&(u.classList.add(et),u.classList.remove(T),u.startTyping()))});export{P as C,B as a};
//# sourceMappingURL=index-2owh-gj-.js.map
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}