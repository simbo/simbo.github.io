{"version":3,"file":"man-wMwS5TV3.js","sources":["../../src/components/command-prompt/command-modules/man.ts"],"sourcesContent":["import { CommandModule } from '../command-prompt.types';\nimport { COMMAND_ALIASES, getCommandModule } from '../commands';\nimport { getCommandAliases } from '../lib/get-command-aliases';\nimport { renderSection, renderUsageExamples } from '../lib/render-output';\n\nconst manModule: CommandModule = {\n  manpage: { description: 'displays the manpage for a command', examples: ['man &lt;COMMAND&gt;'] },\n\n  async handler(prompt, { inputs }) {\n    let command = inputs[0] || 'man';\n    command = COMMAND_ALIASES[command] || command;\n    const module = await getCommandModule(command);\n\n    let output = `<strong>${command}</strong>`;\n    const aliases = getCommandAliases(command);\n    if (aliases.length > 0) {\n      output += `<br>${renderSection('aliases', ' ' + aliases.join(' '))}`;\n    }\n    prompt.outputText(output);\n\n    const { manpage } = module;\n    if (!manpage) {\n      throw new Error(`no manpage found for ${command}`);\n    }\n\n    if (typeof manpage === 'string') {\n      prompt.outputText(`${manpage}`);\n      return;\n    }\n    const { description, examples, append } = manpage;\n    prompt.outputText(`${description}`);\n    renderUsageExamples(examples, text => prompt.outputText(text));\n    if (append) {\n      prompt.outputText(`${append}`);\n    }\n  }\n};\n\nexport default manModule;\n"],"names":["manModule","prompt","inputs","command","COMMAND_ALIASES","module","getCommandModule","output","aliases","getCommandAliases","renderSection","manpage","description","examples","append","renderUsageExamples","text"],"mappings":"wOAKA,MAAMA,EAA2B,CAC/B,QAAS,CAAE,YAAa,qCAAsC,SAAU,CAAC,qBAAqB,CAAE,EAEhG,MAAM,QAAQC,EAAQ,CAAE,OAAAC,GAAU,CAC5B,IAAAC,EAAUD,EAAO,CAAC,GAAK,MACjBC,EAAAC,EAAgBD,CAAO,GAAKA,EAChC,MAAAE,EAAS,MAAMC,EAAiBH,CAAO,EAEzC,IAAAI,EAAS,WAAWJ,CAAO,YACzB,MAAAK,EAAUC,EAAkBN,CAAO,EACrCK,EAAQ,OAAS,IACTD,GAAA,OAAOG,EAAc,UAAW,IAAMF,EAAQ,KAAK,GAAG,CAAC,CAAC,IAEpEP,EAAO,WAAWM,CAAM,EAElB,KAAA,CAAE,QAAAI,CAAY,EAAAN,EACpB,GAAI,CAACM,EACH,MAAM,IAAI,MAAM,wBAAwBR,CAAO,EAAE,EAG/C,GAAA,OAAOQ,GAAY,SAAU,CACxBV,EAAA,WAAW,GAAGU,CAAO,EAAE,EAC9B,MACF,CACA,KAAM,CAAE,YAAAC,EAAa,SAAAC,EAAU,OAAAC,CAAA,EAAWH,EACnCV,EAAA,WAAW,GAAGW,CAAW,EAAE,EAClCG,EAAoBF,EAAUG,GAAQf,EAAO,WAAWe,CAAI,CAAC,EACzDF,GACKb,EAAA,WAAW,GAAGa,CAAM,EAAE,CAEjC,CACF"}