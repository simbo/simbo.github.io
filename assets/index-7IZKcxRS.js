(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function s(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=s(o);fetch(o.href,i)}})();var E=(e=>(e.Light="light",e.Dark="dark",e))(E||{});const A="light",S="color-theme";function v(e){return window.matchMedia(`(prefers-color-scheme: ${e})`).matches}function p(e){Object.values(E).includes(e)&&(document.documentElement.dataset.colorTheme=e,window.localStorage.setItem(S,e))}const P={initialize(){const e=window.localStorage.getItem(S);let t;e?t=e:v("dark")?t="dark":v("light")?t="light":t=A,p(t),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:s})=>p(s?"dark":"light"))},toggle(){p(document.documentElement.dataset.colorTheme==="dark"?"light":"dark")},get theme(){return document.documentElement.dataset.colorTheme||A},set theme(e){p(e)}},N="modulepreload",M=function(e){return"/"+e},I={},c=function(t,s,n){if(!s||s.length===0)return t();const o=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=M(i),i in I)return;I[i]=!0;const r=i.endsWith(".css"),h=r?'[rel="stylesheet"]':"";if(!!n)for(let m=o.length-1;m>=0;m--){const d=o[m];if(d.href===i&&(!r||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${h}`))return;const l=document.createElement("link");if(l.rel=r?"stylesheet":N,r||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),r)return new Promise((m,d)=>{l.addEventListener("load",m),l.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i})},R=(e,t)=>{const s=e[t];return s?typeof s=="function"?s():Promise.resolve(s):new Promise((n,o)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+t)))})},f=new Map,T="icon-name";class x extends HTMLElement{static observedAttributes=[T];constructor(){super()}attributeChangedCallback(t,s,n){t===T&&this.setIcon(n)}setIcon(t){typeof t!="string"||t.length===0||this.getIcon(t).then(s=>{this.innerHTML=s})}async getIcon(t){if(!f.has(t)){const{default:n}=await R(Object.assign({"./svg-icons/github.ts":()=>c(()=>import("./github-2IFn9t5S.js"),__vite__mapDeps([])),"./svg-icons/moon.ts":()=>c(()=>import("./moon-2H6ZF6GE.js"),__vite__mapDeps([])),"./svg-icons/sun.ts":()=>c(()=>import("./sun-W9U8S791.js"),__vite__mapDeps([]))}),`./svg-icons/${t}.ts`);f.set(t,n)}return f.get(t)}}class k extends HTMLElement{svgIcon;connectedCallback(){const t=document.createElement("button");t.setAttribute("title","Toggle Color Theme"),t.addEventListener("click",n=>{n.preventDefault(),P.toggle()}),this.svgIcon=document.createElement("svg-icon"),this.svgIcon.classList.add("as-block"),this.setIconNameByColorTheme(),new MutationObserver(()=>this.setIconNameByColorTheme()).observe(document.documentElement,{attributeFilter:["data-color-theme"]}),this.append(t),t.append(this.svgIcon)}setIconNameByColorTheme(){const t=document.documentElement.dataset.colorTheme,s={[E.Light]:"moon",[E.Dark]:"sun"}[t];s&&s.length>0&&this.svgIcon.setAttribute(T,s)}}const O=['"',"'"];function _(e){for(let t=0;t<O.length;t++){const s=O[t];if(e.at(0)===s&&e.at(-1)===s)return e.slice(1,-1).replaceAll(new RegExp(`\\\\${s}`,"g"),s)}return e}const H=/^(--?[^\s"']+=)?("(\\"|[^"])*"|'(\\'|[^'])*'|\S+)/,V=/^--?\S/,z=/^-[a-z]=/i,$=/^-[a-z]+$/i,U=/^--[a-z][\da-z]*([_-][a-z][\da-z]*)*/i;function B(e){e=e.trim();const t={inputs:[],options:{}},s=[];let n=null;for(;e.length>0;){const o=(n=e.match(H))===null?e:n[0];s.push(o),e=e.slice(o.length).trim()}for(let o=0;o<s.length;o++){const i=s[o].trim();if(V.test(i)){if(n=i.match(z))t.options[i.charAt(1).toLowerCase()]=_(i.slice(3));else if(n=i.match($)){const r=[...n[0].slice(1).toLowerCase()];for(let h=0;h<r.length;h++)t.options[r[h]]=!0}else if(n=i.match(U)){const r=i.slice(2,n[0].length).toLowerCase(),h=i.charAt(n[0].length)==="="?_(i.slice(n[0].length+1)):!0;t.options[r]=h}}else t.inputs.push(_(i))}return t}const g=new Map,X={cls:"clear",hey:"hello",hi:"hello",max:"maximize",min:"minimize",print:"echo",theme:"color-theme"},w={foo:"bar",version:"v3.1.6",test:"test passed.",help:'need help?<br/>run <span class="yellow">commands</span> for a list of commands.'},q=/^[a-z][\da-z]*(-[a-z][\da-z]*)*$/i;async function G(e){if(!q.test(e))throw new Error(`invalid command: ${e}`);if(e=e.toLowerCase(),e=X[e]||e,w[e])return w[e];if(!g.has(e)){let t;try{t=(await R(Object.assign({"./command-handlers/clear.ts":()=>c(()=>import("./clear-rl-NzIU3.js"),__vite__mapDeps([])),"./command-handlers/color-theme.ts":()=>c(()=>import("./color-theme-bKpSlUQv.js"),__vite__mapDeps([])),"./command-handlers/colors.ts":()=>c(()=>import("./colors-B2bCa3zC.js"),__vite__mapDeps([])),"./command-handlers/commands.ts":()=>c(()=>import("./commands-MkxfkiQZ.js"),__vite__mapDeps([])),"./command-handlers/echo.ts":()=>c(()=>import("./echo-thbbqyKb.js"),__vite__mapDeps([])),"./command-handlers/hello.ts":()=>c(()=>import("./hello-m61RTd3R.js"),__vite__mapDeps([])),"./command-handlers/maximize.ts":()=>c(()=>import("./maximize-86t-AHaw.js"),__vite__mapDeps([])),"./command-handlers/minimize.ts":()=>c(()=>import("./minimize-73dqLokl.js"),__vite__mapDeps([])),"./command-handlers/reload.ts":()=>c(()=>import("./reload-VNu50TN1.js"),__vite__mapDeps([])),"./command-handlers/type.ts":()=>c(()=>import("./type-7OgQVbU-.js"),__vite__mapDeps([]))}),`./command-handlers/${e}.ts`)).default}catch{throw new Error(`unknown command: ${e}`)}g.set(e,t)}return g.get(e)}const C="command-history";class K{history;index=-1;constructor(){let t;try{t=JSON.parse(window.localStorage.getItem(C)||"[]")}catch{t=[]}this.history=Array.isArray(t)?t:[]}add(t){this.index=-1,t=t.trim(),this.history[0]!==t&&(this.history.unshift(t),window.localStorage.setItem(C,JSON.stringify(this.history)))}backward(){if(this.index+1<this.history.length)return this.index++,this.history[this.index]}forward(){if(this.index-1>=-1)return this.index--,this.index===-1?"":this.history[this.index]}}const y="command-in-progress";let Y=0;class j extends HTMLElement{outputsElement=document.createElement("div");promptElement=document.createElement("div");labelElement=document.createElement("label");inputElement=document.createElement("input");history=new K;inputId=`prompt-input${++Y}`;constructor(){super()}connectedCallback(){this.promptElement.classList.add("prompt"),this.labelElement.classList.add("prompt-label"),this.labelElement.setAttribute("for",this.inputId),this.inputElement.classList.add("prompt-input"),this.inputElement.id=this.inputId,this.inputElement.type="text",this.inputElement.addEventListener("keypress",t=>this.onPromptKeyPress(t)),this.inputElement.addEventListener("keydown",t=>this.onPromptKeyDown(t)),this.append(this.outputsElement),this.promptElement.append(this.labelElement),this.promptElement.append(this.inputElement),this.append(this.promptElement)}outputText(t){this.addOutput({type:"text",content:t})}outputError(t){this.addOutput({type:"error",content:`${t.message||t}`})}clearOutput(){this.outputsElement.innerHTML=""}get commandIsInProgress(){return this.classList.contains(y)}addOutput({type:t,content:s}){const n=document.createElement("div");n.classList.add("output",`is-${t}`),t==="text"?n.innerHTML=s:n.textContent=s,this.outputsElement.append(n),this.inputElement.scrollIntoView()}onPromptKeyPress(t){if(t.key==="Enter"&&(t.preventDefault(),!this.commandIsInProgress)){const s=this.inputElement.value;this.inputElement.value="",this.parseInput(s)}}onPromptKeyDown(t){if(t.key==="ArrowUp"||t.key==="ArrowDown"){let s;t.key==="ArrowUp"?s=this.history.backward():t.key==="ArrowDown"&&(s=this.history.forward()),typeof s=="string"&&(t.preventDefault(),this.inputElement.value=s)}}parseInput(t){t=t.trim();let s=t.search(/\s|$/);s=s>0?s:t.length;const n=t.slice(0,s);if(n.length===0)return;const o=t.slice(s).trim();this.onCommandStart(t),this.runCommand(n,o).catch(i=>this.outputError(i)).finally(()=>this.onCommandEnd())}async runCommand(t,s){const n=await G(t);if(typeof n=="string")return this.outputText(n);const o=B(s);return n(this,o)}onCommandStart(t){this.addOutput({type:"command",content:t}),this.history.add(t),this.classList.add(y)}onCommandEnd(){this.classList.remove(y)}}const b="stopped-typing",F="started-typing",J=23,D="has-cursor",W=/<span\s+code="(\d+|stop)"[^>]*><\/span>/gi,Q=/^\^(\d+|stop)/i,Z=/^<br\s*\/?>/i;class tt extends HTMLElement{steps=[];nextStep=0;typeDelay;typeTimeout=0;constructor(){super()}connectedCallback(){this.typeDelay=Number.parseInt(this.getAttribute("type-delay")||"0",10)||J;const t=this.innerHTML;this.innerHTML="",this.queueContent(t),this.startTyping()}startTyping(){this.classList.add(D),this.dispatchEvent(new CustomEvent(F)),this.type()}stopTyping(){this.clearTimeout(),this.classList.remove(D),this.dispatchEvent(new CustomEvent(b))}resetTyping(){this.stopTyping(),this.nextStep=0,this.innerHTML=""}restartTyping(){this.resetTyping(),this.startTyping()}get isTyping(){return this.typeTimeout!==0}get typingDone(){return this.steps.length===this.nextStep}queueContent(t){t=t.split(/[\n\r]+/g).map(a=>a.trim()).join("").replaceAll(W,(a,l)=>`^${l}`);let s=this.steps.at(-1)?.output||"",n=0,o=!1;const i=a=>{t=t.slice(a)},r=a=>{s+=t.slice(0,a),i(a)},h=()=>{const a={pauseDuration:n,output:s};o&&(a.stopAfterwards=o),this.steps.push(a),n=0,o=!1};for(;t.length>0;){const a=t.charAt(0);let l=null,m;if(a==="^"&&(l=t.match(Q)))l[0].toLowerCase()==="^stop"?o=!0:n+=Number.parseInt(l[0].slice(1),10),i(l[0].length);else if(a==="<"){let d=null;(d=t.match(Z))?(r(d[0].length),h()):(m=t.indexOf(">"))>=0&&r(m+1)}else a==="&"&&(m=t.indexOf(";"))>=0?r(m+1):(r(1),h())}}type(){const t=this.steps[this.nextStep];this.setTimeout(()=>{this.innerHTML=t.output,this.nextStep++,!t.stopAfterwards&&this.nextStep<this.steps.length?this.setTimeout(()=>this.type(),this.humanizedDelay):this.stopTyping()},t.pauseDuration)}get humanizedDelay(){return(Math.random()*this.typeDelay-Math.random()*this.typeDelay)/2+this.typeDelay}setTimeout(t,s=0){this.typeTimeout=window.setTimeout(t,s)}clearTimeout(){this.typeTimeout&&(window.clearTimeout(this.typeTimeout),this.typeTimeout=0)}}customElements.define("svg-icon",x);customElements.define("typed-text",tt);customElements.define("color-theme-toggle",k);customElements.define("command-prompt",j);function et(e,t,s){const n=o=>{e.removeEventListener(t,n),s(o)};e.addEventListener(t,n)}P.initialize();const L="has-initial-content",st="has-additional-content",u=document.querySelector("typed-text");et(u,b,()=>u.classList.add(L));u.addEventListener("click",e=>{e.target.tagName==="BUTTON"&&(e.preventDefault(),u.classList.contains(L)&&(u.classList.add(st),u.classList.remove(L),u.startTyping()))});export{P as C,X as a};
//# sourceMappingURL=index-7IZKcxRS.js.map
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}